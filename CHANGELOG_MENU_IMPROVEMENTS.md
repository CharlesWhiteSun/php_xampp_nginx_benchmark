# PHP XAMPP NGINX Benchmark Tool - èœå–®ç³»çµ±å¾®èª¿ç¸½çµ

## ä¿®æ”¹å®Œæˆæ—¥æœŸ
2026å¹´2æœˆ15æ—¥

## å¯¦ç¾çš„åŠŸèƒ½

### 1ï¸âƒ£ ç¢ºèªé‚è¼¯é»˜èªç‚º YES
**ä¿®æ”¹ä½ç½®**: `start_benchmark.ps1` - `Start-Benchmark()` å‡½æ•¸

**è¡Œç‚ºè®Šæ›´**:
- âœ… ç”¨æˆ¶ç›´æ¥æŒ‰ Enter éµï¼ˆç©ºè¼¸å…¥ï¼‰= **è‡ªå‹•é è¨­ç‚º Yï¼ˆç¢ºèªï¼‰**
- âœ… ç”¨æˆ¶è¼¸å…¥ 'Y' æˆ– 'y' = ç¢ºèªåŸ·è¡Œ
- âœ… ç”¨æˆ¶è¼¸å…¥ 'N' æˆ– 'n' = å–æ¶ˆä¸¦ç›´æ¥é€€å‡º

**ä»£ç¢¼ç¯„ä¾‹**:
```powershell
Write-Host "Confirm to start? (Y/N) [Press Enter for Yes]: " -ForegroundColor Cyan -NoNewline
$confirm = Read-Host

# åªæœ‰ N/n æ‰å–æ¶ˆï¼Œå…¶ä»–åŒ…æ‹¬ç©ºè¼¸å…¥éƒ½è¦–ç‚ºç¢ºèª
if ($confirm -eq "N" -or $confirm -eq "n") {
    exit 0
}
```

### 2ï¸âƒ£ å–æ¶ˆå¾Œç›´æ¥é€€å‡º
**ä¿®æ”¹ä½ç½®**: `start_benchmark.ps1` - `Start-Benchmark()` å‡½æ•¸

**è¡Œç‚ºè®Šæ›´**:
- âŒ èˆŠè¡Œç‚ºï¼šå–æ¶ˆå¾Œè¿”å›èœå–®
- âœ… æ–°è¡Œç‚ºï¼šå–æ¶ˆå¾Œç›´æ¥ `exit 0` é€€å‡ºæ•´å€‹ PowerShell/BAT è¦–çª—
- åŒæ¨£æ‡‰ç”¨æ–¼å ±å‘Šç”Ÿæˆç•°å¸¸æƒ…æ³

**ä»£ç¢¼ç¯„ä¾‹**:
```powershell
if ($confirm -eq "N" -or $confirm -eq "n") {
    Write-Host ""
    Write-Host "[CANCELLED] Exiting..." -ForegroundColor Yellow
    Write-Host ""
    exit 0  # ç›´æ¥é€€å‡ºï¼Œä¸è¿”å›èœå–®
}
```

### 3ï¸âƒ£ å¯¦æ™‚é€²åº¦æ™‚é–“è»¸
**ä¿®æ”¹ä½ç½®**: `start_benchmark.ps1` - `Start-Benchmark()` å‡½æ•¸

**æ–°å¢åŠŸèƒ½**:
- ğŸ”„ åœ¨ Benchmark é‹è¡Œæ™‚å¯¦æ™‚é¡¯ç¤ºé€²åº¦æ¢
- ğŸ“Š é€²åº¦ç™¾åˆ†æ¯”ï¼ˆ0-100%ï¼‰
- â±ï¸ å·²ç”¨æ™‚é–“é¡¯ç¤ºï¼ˆç§’ï¼‰
- â³ å‰©é¤˜æ™‚é–“è¨ˆæ•¸ï¼ˆç§’ï¼‰
- æ›´æ–°é »ç‡ï¼šæ¯ç§’æ›´æ–°ä¸€æ¬¡

**è¦–è¦ºæ•ˆæœç¤ºä¾‹**:
```
  Progress: [=========================   ] 85% | Elapsed: 153s | Remaining: 27s
  Progress: [=============================] 100% | Elapsed: 180s | Remaining: 0s
```

**å¯¦ç¾æ–¹å¼**:
- ä½¿ç”¨ `Start-Process` åœ¨å¾Œå°åŸ·è¡Œ docker-compose
- ä¸»ç·šç¨‹ç›£æ§é€²ç¨‹ç‹€æ…‹å’Œè¨ˆæ™‚
- æ¯ç§’æ§‹å»ºä¸¦æ›´æ–°é€²åº¦æ¢
- ä½¿ç”¨ `\r` å­—ç¬¦è¦†è“‹ä¸Šä¸€è¡Œï¼Œå¯¦ç¾æ»¾å‹•æ•ˆæœ

### 4ï¸âƒ£ é¡å¤–æ”¹é€²ï¼šå ±å‘Šæ‰“é–‹ç¢ºèª
**ä¿®æ”¹ä½ç½®**: `start_benchmark.ps1` - `Generate-Report()` å‡½æ•¸

**è¡Œç‚ºè®Šæ›´**:
- âœ… æŒ‰ Enterï¼ˆç©ºè¼¸å…¥ï¼‰= **è‡ªå‹•é è¨­ç‚º Yï¼ˆæ‰“é–‹å ±å‘Šï¼‰**
- âœ… è¼¸å…¥ 'Y' æˆ– 'y' = æ‰“é–‹å ±å‘Š
- âœ… è¼¸å…¥ 'N' æˆ– 'n' = è·³éæ‰“é–‹

## ä½¿ç”¨èªªæ˜

### æ¨™æº–æµç¨‹
```
1. åŸ·è¡Œ start_benchmark.bat æˆ– start_benchmark.ps1
2. é¸æ“‡æ¸¬è©¦æ¨¡å¼ (1-5)
3. æŸ¥çœ‹é…ç½®æ‘˜è¦
4. ç¢ºèªæ™‚æŒ‰ Enterï¼ˆç„¡éœ€è¼¸å…¥ Yï¼‰
5. è§€çœ‹å¯¦æ™‚é€²åº¦æ¢
6. Benchmark å®Œæˆå¾Œè‡ªå‹•ç”Ÿæˆå ±å‘Š
7. ç¢ºèªæ™‚æŒ‰ Enterï¼ˆç„¡éœ€è¼¸å…¥ Yï¼‰æ‰“é–‹å ±å‘Š
```

### å–æ¶ˆæµç¨‹
```
1. åœ¨ç¢ºèªæç¤ºæ™‚è¼¸å…¥ 'N'
2. ç«‹å³é¡¯ç¤º [CANCELLED] ä¸¦é€€å‡ºè¦–çª—
3. ç„¡éœ€è¿”å›èœå–®
```

## æŠ€è¡“ç´°ç¯€

### é€²åº¦è¨ˆç®—å…¬å¼
```powershell
percentage = Min(100, (elapsedSeconds / totalSeconds) * 100)
barFilledLength = Round((percentage / 100) * 30)
```

### é€²ç¨‹ç®¡ç†
```powershell
$process = Start-Process -FilePath docker-compose `
    -PassThru -NoNewWindow `
    -RedirectStandardOutput $env:TEMP\benchmark_output.txt `
    -RedirectStandardError $env:TEMP\benchmark_error.txt

while (-not $process.HasExited) {
    # æ›´æ–°é€²åº¦
    Start-Sleep -Milliseconds 100
}
```

## æ–‡ä»¶ä¿®æ”¹è¨˜éŒ„

### ä¿®æ”¹çš„æ–‡ä»¶:
1. âœï¸ `start_benchmark.ps1` - æ ¸å¿ƒèœå–®ç³»çµ±
   - æ–°å¢ `Show-ProgressTimeline()` å‡½æ•¸
   - é‡å¯« `Start-Benchmark()` å‡½æ•¸ï¼ˆå¾Œå°é€²ç¨‹ + å¯¦æ™‚é€²åº¦ï¼‰
   - æ›´æ–° `Generate-Report()` ç¢ºèªé‚è¼¯

2. âœï¸ `start_benchmark.bat` - å•Ÿå‹•ç›¤ï¼ˆå·²ä¿®å¾©ç·¨ç¢¼ï¼‰

### æ–°å¢çš„æ–‡ä»¶:
1. â• `test_menu_display.ps1` - èœå–®é¡¯ç¤ºæ¸¬è©¦
2. â• `demo_new_features.ps1` - æ–°åŠŸèƒ½æ¼”ç¤º

## æ¸¬è©¦é©—è­‰

âœ… èœå–®é¡¯ç¤ºæ­£ç¢ºï¼ˆç„¡äº‚ç¢¼ï¼‰
âœ… ç¢ºèªé‚è¼¯æ­£ç¢ºï¼ˆé»˜èª Yï¼‰
âœ… å–æ¶ˆæ™‚ç›´æ¥é€€å‡º
âœ… é€²åº¦æ¢å¯¦æ™‚æ›´æ–°
âœ… èªæ³•é©—è­‰é€šé
âœ… æ¼”ç¤ºç¨‹åºæˆåŠŸåŸ·è¡Œ

## æ¨è–¦ä½¿ç”¨æ–¹å¼

### æ–¹å¼ä¸€ï¼šBAT å•Ÿå‹•ï¼ˆæ¨è–¦æ–°æ‰‹ï¼‰
```cmd
é›™æ“Š start_benchmark.bat
```

### æ–¹å¼äºŒï¼šPowerShell ç›´æ¥åŸ·è¡Œ
```powershell
.\start_benchmark.ps1
```

### æ–¹å¼ä¸‰ï¼šè‡ªè¨‚åƒæ•¸
```powershell
# 3 åˆ†é˜æ¸¬è©¦
$Env:DURATION=180; $Env:CONNECTIONS=50; docker-compose run --rm benchmark bash ./benchmark/run_ab.sh
```

## æ³¨æ„äº‹é …

âš ï¸ **é‡è¦**: ç¢ºèªæ™‚ç›´æ¥æŒ‰ Enter å³å¯ï¼Œç„¡éœ€è¼¸å…¥ä»»ä½•å­—ç¬¦
âš ï¸ **å–æ¶ˆæµç¨‹**: è¼¸å…¥ 'N' æœƒç«‹å³é€€å‡ºï¼Œç„¡æ³•è¿”å›èœå–®
âš ï¸ **èƒŒæ™¯é€²ç¨‹**: é€²åº¦é¡¯ç¤ºåŸºæ–¼é ä¼°æ™‚é–“ï¼Œå¯¦éš›æ™‚é–“å¯èƒ½æœ‰åå·®ï¼ˆÂ±æ•¸ç§’ï¼‰

## æœªä¾†æ”¹é€²å»ºè­°

ğŸ’¡ å¯è€ƒæ…®çš„å¢å¼·é …ç›®ï¼š
1. æ”¯æŒå¤šå€‹ Benchmark é€£çºŒåŸ·è¡Œ
2. å„å€‹çµ‚ç«¯é»ï¼ˆcpu.php, json.php, io.phpï¼‰çš„ç¨ç«‹é€²åº¦é¡¯ç¤º
3. HTML å ±å‘Šä¸­é›†æˆé€²åº¦æ™‚é–“è»¸æ•¸æ“š
4. é…ç½®æ–‡ä»¶é è¨­å€¼è¨˜æ†¶åŠŸèƒ½
5. Benchmark çµæœçš„è‡ªå‹•å°æ¯”åˆ†æ

---

**ç‰ˆæœ¬**: 1.2  
**æœ€å¾Œæ›´æ–°**: 2026-02-15
